<div class="container mt-5">

  <h2 class="fw-bold text-center mb-5">Báo DungVi</h2>

  <div class="row">

    {{#each newdb}}

      <div class="col-md-4 mb-4">
        <a href="/news/{{this.slug}}" class="dv-news-card d-block">

          <div class="dv-news-thumb">
            {{#if this.thumbnail}}
              <img src="{{this.thumbnail}}" alt="{{this.name}}">
            {{else}}
              <div style="width:100%; height:220px; background:#ddd;"></div>
            {{/if}}

            <div class="dv-news-date">
              <div class="day">{{formatDay this.createdAt}}</div>
              <div class="month">{{formatMonthShort this.createdAt}}</div>
            </div>
          </div>

          <div class="dv-news-content">
            <h3 class="dv-news-title">{{truncate this.name 120}}</h3>
            <p class="dv-news-desc">{{truncate this.description 150}}</p>

            <div class="dv-news-footer d-flex justify-content-between text-muted mt-3">
              <span><i class="bi bi-person"></i> {{this.author}}</span>
              <span><i class="bi bi-chat"></i> {{this.comments}} comments</span>
            </div>
          </div>

        </a>
      </div>

    {{/each}}

  </div>

  <!-- Pagination -->
  <nav aria-label="Page navigation" class="mt-4">
    <ul class="pagination justify-content-center">

      {{#if (gt current 1)}}
        <li class="page-item">
          <a class="page-link" href="/news?page={{minus current 1}}">&laquo; Trước</a>
        </li>
      {{/if}}

      {{#each (range 1 totalPages)}}
        <li class="page-item {{#if (eq this ../current)}}active{{/if}}">
          <a class="page-link" href="/news?page={{this}}">{{this}}</a>
        </li>
      {{/each}}

      {{#if (lt current totalPages)}}
        <li class="page-item">
          <a class="page-link" href="/news?page={{plus current 1}}">Sau &raquo;</a>
        </li>
      {{/if}}

    </ul>
  </nav>

</div>
