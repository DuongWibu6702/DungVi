<div class="container py-5" style="max-width: 720px;">
  <div class="card shadow-sm p-4" style="border-radius: 14px;">

    <div class="text-center mb-4">
      <h3 class="fw-bold mt-3">{{user.name}}</h3>
      <span class="badge bg-primary text-uppercase">{{user.type}}</span>
    </div>

    {{#if success}}
      <div class="alert alert-success">{{success}}</div>
    {{/if}}

    {{#if error}}
      <div class="alert alert-danger">{{error}}</div>
    {{/if}}

    <form id="profile-form" method="POST" action="/author/profile" class="d-flex flex-column gap-3">

      <input type="hidden" name="verifyPassword" id="verifyPassword">

      <div>
        <label class="form-label fw-semibold">Họ và tên</label>
        <input type="text" name="name" class="form-control" value="{{user.name}}" required>
      </div>

      <div>
        <label class="form-label fw-semibold">Email</label>
        <input type="text" class="form-control" value="{{user.email}}" disabled>
        <input type="hidden" name="email" value="{{user.email}}">
      </div>

      <button
        type="button"
        id="btn-update"
        class="btn btn-dark w-100 fw-semibold mt-3"
        data-bs-toggle="modal"
        data-bs-target="#passwordModal">
        Cập nhật hồ sơ
      </button>

      <a href="/author/password" class="btn btn-outline-primary w-100">Đổi mật khẩu</a>

    </form>

  </div>
</div>

<!-- MODAL XÁC NHẬN -->
<div class="modal fade" id="passwordModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content p-3">

      <h5 class="fw-bold mb-2">Xác nhận mật khẩu</h5>

      <label class="form-label">Nhập mật khẩu hiện tại</label>
      <input type="password" id="currentPassword" class="form-control" autocomplete="off">
      <div id="verify-message" class="mt-1" style="font-size: 14px;"></div>

      <div class="mt-3 d-flex justify-content-end gap-2">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
        <button class="btn btn-primary" id="btn-verify">Xác nhận</button>
      </div>

    </div>
  </div>
</div>

<script src="/js/author/profile.js"></script>
